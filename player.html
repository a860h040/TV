<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Video Player</title>
  <style>
    html,body{height:100%; margin:0; background:#000; color:#fff; font-family:system-ui,Segoe UI,Arial}
    .wrap{height:100%; display:grid; place-items:center}
    video{width:100vw; height:100vh; object-fit:contain; background:#000}
    .msg{
      position:fixed; left:12px; right:12px; bottom:12px;
      padding:10px 12px; border-radius:10px;
      background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.18);
      font-size:14px; line-height:1.35;
    }
    a{color:#8ab4ff}
  </style>
</head>
<body>
  <div class="wrap">
    <video id="v" controls playsinline preload="auto">
      <source src="http://line.tx-4k.com/live/b126a24d3f/36a7e66d5d43/815486.m3u8" type="video/mp4" />
      Your browser does not support HTML5 video.
    </video>
  </div>

  <div class="msg" id="msg">Loading…</div>

  <script>
    const url = "http://line.tx-4k.com/series/b126a24d3f/36a7e66d5d43/1944627.mp4";
    const v = document.getElementById("v");
    const msg = document.getElementById("msg");

    function setMsg(t){ msg.innerHTML = t; }

    // If you open this page over HTTPS, most browsers will BLOCK http:// video (mixed content).
    if (location.protocol === "https:" && url.startsWith("http://")) {
      setMsg(`Blocked by browser (mixed content): this page is HTTPS but the video is HTTP.<br>
              Open this HTML via <b>file://</b> or <b>http://</b>, or use an HTTPS version of the video URL if available.<br>
              Video link: <a href="${url}" target="_blank" rel="noopener">Open video</a>`);
    } else {
      setMsg(`Video ready. <a href="${url}" target="_blank" rel="noopener">Open video in new tab</a>`);
    }

    v.addEventListener("loadedmetadata", () => setMsg("Loaded metadata. Press Play (or use autoplay in code)."));
    v.addEventListener("playing", () => setMsg("Playing ✅"));
    v.addEventListener("pause", () => setMsg("Paused ⏸️"));
    v.addEventListener("error", () => {
      const e = v.error;
      setMsg(`Playback error. ${e ? ("Code: " + e.code) : ""}<br>
              Try opening the video link directly: <a href="${url}" target="_blank" rel="noopener">Open video</a>`);
    });

    // Optional autoplay attempt (some TVs/browsers block autoplay with sound)
    // v.muted = true; v.play().catch(()=>{});
  </script>
</body>
</html>
